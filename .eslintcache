[{"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\index.js":"1","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\App.js":"2","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\serviceWorker.js":"3","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\AuthenticationService.js":"4","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\ProductService.js":"5","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\SupplierService.js":"6","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\UserService.js":"7","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\auth-header.js":"8","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\PriceReductionService.js":"9","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\authenticationService.js":"10","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\productService.js":"11","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\priceReductionService.js":"12","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\userService.js":"13","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\supplierService.js":"14","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\login\\LoginView.js":"15","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\header\\HeaderComponent.jsx":"16","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\products\\ProductListView.js":"17","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\AuthenticatedRoute.js":"18","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\constants\\AppConstants.js":"19","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\products\\ProductDetailView.js":"20","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\UserListView.js":"21"},{"size":458,"mtime":1608042478712,"results":"22","hashOfConfig":"23"},{"size":1526,"mtime":1610379969033,"results":"24","hashOfConfig":"23"},{"size":5086,"mtime":1608042478903,"results":"25","hashOfConfig":"23"},{"size":898,"mtime":1610028677848,"results":"26","hashOfConfig":"23"},{"size":1468,"mtime":1610028903285,"results":"27","hashOfConfig":"23"},{"size":470,"mtime":1610028903288,"results":"28","hashOfConfig":"23"},{"size":1188,"mtime":1610028903288,"results":"29","hashOfConfig":"23"},{"size":260,"mtime":1610028599850,"results":"30","hashOfConfig":"23"},{"size":504,"mtime":1610028903285,"results":"31","hashOfConfig":"23"},{"size":1244,"mtime":1610380029542,"results":"32","hashOfConfig":"23"},{"size":4962,"mtime":1610377281184,"results":"33","hashOfConfig":"23"},{"size":1444,"mtime":1610380815556,"results":"34","hashOfConfig":"23"},{"size":3255,"mtime":1610379220799,"results":"35","hashOfConfig":"23"},{"size":1383,"mtime":1610380640330,"results":"36","hashOfConfig":"23"},{"size":2438,"mtime":1610380029542,"results":"37","hashOfConfig":"23"},{"size":2373,"mtime":1610360875074,"results":"38","hashOfConfig":"23"},{"size":7335,"mtime":1610372377626,"results":"39","hashOfConfig":"23"},{"size":331,"mtime":1610358927015,"results":"40","hashOfConfig":"23"},{"size":51,"mtime":1610369382274,"results":"41","hashOfConfig":"23"},{"size":10879,"mtime":1610377741682,"results":"42","hashOfConfig":"23"},{"size":5039,"mtime":1610380428023,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"uggtcu",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":4,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"46"},"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\index.js",[],["90","91"],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\App.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\serviceWorker.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\AuthenticationService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\ProductService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\SupplierService.js",[],["92","93"],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\UserService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\auth-header.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\PriceReductionService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\authenticationService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\productService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\priceReductionService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\userService.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\services\\supplierService.js",["94","95","96","97"],"import axios from 'axios'\nimport authHeader from './auth-header';\nimport * as Constants from '../constants/AppConstants'\n\nexport function getAllSuppliersService(successCallback, errorCallBack) {\n    axios.get(Constants.API_URL + '/suppliers/all', {\n        headers: authHeader()\n    })\n        .then(\n            (response) => {\n                successCallback(response)\n            })\n        .catch(\n            (error) => {\n                errorCallBack({\n                    severity: 'error',\n                    summary: 'Error loading products!',\n                    detail: (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n                });\n            }\n        );\n}\n\nexport function getAvailableSuppliers(id, successCallback, errorCallBack) {\n    axios.get(Constants.API_URL + `/products/${id}/available_suppliers`, {\n        headers: authHeader()\n    })\n        .then(\n            (response) => {\n                successCallback(response)\n            })\n        .catch(\n            (error) => {\n                errorCallBack({\n                    severity: 'error',\n                    summary: 'Error loading products!',\n                    detail: (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n                });\n            }\n        );\n}","C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\login\\LoginView.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\header\\HeaderComponent.jsx",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\products\\ProductListView.js",["98"],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\AuthenticatedRoute.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\constants\\AppConstants.js",[],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\products\\ProductDetailView.js",["99","100","101","102","103"],"C:\\Users\\alain.barredo\\BB2_workspace\\formacion_BB2_frontend\\src\\components\\UserListView.js",["104"],"import React, { useEffect, useState, useRef } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Messages } from 'primereact/messages';\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\n\r\nimport { getCurrentUser, isAdmin } from '../services/authenticationService';\r\nimport { getUsersService, deleteUserService } from '../services/userService';\r\n\r\nexport default function UserListView() {\r\n    const [users, setUsers] = useState([])\r\n    const [first, setFirst] = useState(0);\r\n    const [page, setPage] = useState(0);\r\n    const [rows] = useState(10);\r\n    const [totalElements, setTotalElements] = useState(0);\r\n    const [sortField, setSortField] = useState('');\r\n    const [sortOrder, setSortOrder] = useState(1);\r\n    const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n    const [selectedItemId, setSelectedItemId] = useState(0);\r\n    const history = useHistory();\r\n    const messages = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem('message') !== null) {\r\n            messages.show(JSON.parse(sessionStorage.getItem('message')));\r\n            sessionStorage.removeItem('message');\r\n        }\r\n\r\n        if (!isAdmin()) {\r\n            history.push('/products')\r\n        } else {\r\n            loadUsers();\r\n        }\r\n    }, []);\r\n\r\n    function loadUsers() {\r\n        getUsersService(page, rows, sortField, sortOrder,\r\n            (response) => { setUsers(response.data.content); setTotalElements(response.data.totalElements); },\r\n            (message) => messages.current.show(message)\r\n        )\r\n    }\r\n\r\n    function onPage(event) {\r\n        setFirst(event.first);\r\n        setPage(event.page);\r\n        loadUsers();\r\n    }\r\n}\r\n\r\nfunction onSort(event) {\r\n    getUsersService(page, rows, event.sortField, event.sortOrder).then(\r\n        (response) => {\r\n            setUsers(response.data.content);\r\n            setSortField(response.event.sortField);\r\n            setSortOrder(event.sortOrder);\r\n        }\r\n    )\r\n}\r\n\r\nfunction newUser() {\r\n    history.push('users/-1');\r\n}\r\n\r\nfunction deleteUser(id) {\r\n    setShowDeleteDialog(false);\r\n    deleteUserService(id,\r\n        () => {\r\n            getUsersService(page, rows, sortField, sortOrder,\r\n                (response, message) => {\r\n                    setUsers(response.data.content);\r\n                    setTotalElements(response.data.totalElements);\r\n                    messages.current.show(message);\r\n                }\r\n            )\r\n        },\r\n        (message) => {\r\n            messages.current.show(message);\r\n        }\r\n    );\r\n\r\n}\r\n\r\nfunction dialogFooter() {\r\n    return (\r\n        <div>\r\n            <Button label=\"No\" icon=\"pi pi-times\" onClick={() => setShowDeleteDialog(false)} />\r\n            <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() => deleteUser(selectedItemId)} />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction buttonsTemplate(rowData) {\r\n    if (getCurrentUser().username !== rowData.username) {\r\n        return (\r\n            <div>\r\n                <Button icon=\"pi pi-trash\" className=\"p-button-rounded p-button-danger p-button-text\"\r\n                    onClick={() => { setShowDeleteDialog(true); setSelectedItemId(rowData.id) }} />\r\n            </div>\r\n        )\r\n    } else {\r\n        return (<div></div>)\r\n    }\r\n}\r\n\r\nreturn (\r\n    <div className=\"userList\">\r\n        <div className=\"datatable-responsive\">\r\n            <Messages ref={messages}></Messages>\r\n            <DataTable className=\"p-datatable-responsive\" header=\"User List\" value={users} paginator\r\n                paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\r\n                rows={rows} totalRecords={totalElements} lazy first={first} onPage={(event) => onPage(event)}\r\n                onSort={(event) => onSort(event)} sortField={sortField} sortOrder={sortOrder}>\r\n                <Column field=\"id\" header=\"Id\" sortable></Column>\r\n                <Column field=\"username\" header=\"Name\" sortable></Column>\r\n                <Column field=\"role\" header=\"Role\" sortable></Column>\r\n                <Column body={(rowData) => buttonsTemplate(rowData)} style={{ textAlign: 'center', width: '7em' }}></Column>\r\n            </DataTable>\r\n            <Dialog header=\"Confirmation\" visible={showDeleteDialog} footer={dialogFooter()} onHide={() => setShowDeleteDialog(false)}>\r\n                <div className=\"confirmation-content\">\r\n                    <i className=\"pi pi-exclamation-triangle p-mr-3\" style={{ fontSize: '2rem' }} />\r\n                    <span>Are you sure you want to proceed?</span>\r\n                </div>\r\n            </Dialog>\r\n        </div>\r\n        <div className=\"buttons\">\r\n            <Button label=\"New User\" icon=\"pi pi-plus\" onClick={() => newUser()} />\r\n        </div>\r\n    </div>\r\n);\r\n}",{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"105","replacedBy":"109"},{"ruleId":"107","replacedBy":"110"},{"ruleId":"111","severity":2,"message":"112","line":11,"column":13,"nodeType":"113","messageId":"114","endLine":11,"endColumn":28},{"ruleId":"111","severity":2,"message":"115","line":15,"column":13,"nodeType":"113","messageId":"114","endLine":15,"endColumn":29},{"ruleId":"111","severity":2,"message":"112","line":30,"column":13,"nodeType":"113","messageId":"114","endLine":30,"endColumn":28},{"ruleId":"111","severity":2,"message":"115","line":34,"column":13,"nodeType":"113","messageId":"114","endLine":34,"endColumn":29},{"ruleId":"116","severity":1,"message":"117","line":36,"column":8,"nodeType":"118","endLine":36,"endColumn":10,"suggestions":"119"},{"ruleId":"120","severity":1,"message":"121","line":21,"column":30,"nodeType":"113","messageId":"122","endLine":21,"endColumn":49},{"ruleId":"116","severity":1,"message":"123","line":64,"column":8,"nodeType":"118","endLine":64,"endColumn":10,"suggestions":"124"},{"ruleId":"120","severity":1,"message":"125","line":93,"column":14,"nodeType":"113","messageId":"122","endLine":93,"endColumn":25},{"ruleId":"120","severity":1,"message":"126","line":109,"column":14,"nodeType":"113","messageId":"122","endLine":109,"endColumn":27},{"ruleId":"120","severity":1,"message":"127","line":173,"column":14,"nodeType":"113","messageId":"122","endLine":173,"endColumn":26},{"ruleId":null,"fatal":true,"severity":2,"message":"128","line":134,"column":1},"no-native-reassign",["129"],"no-negated-in-lhs",["130"],["129"],["130"],"no-undef","'successCallback' is not defined.","Identifier","undef","'messagesCallBack' is not defined.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history.location.state' and 'loadProducts'. Either include them or remove the dependency array.","ArrayExpression",["131"],"no-unused-vars","'setShowDeleteDialog' is assigned a value but never used.","unusedVar","React Hook useEffect has missing dependencies: 'loadProduct' and 'params.id'. Either include them or remove the dependency array.",["132"],"'saveProduct' is defined but never used.","'updateProduct' is defined but never used.","'dialogFooter' is defined but never used.","Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 132 | \u001b[39m    \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 133 | \u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 | \u001b[39m}\u001b[0m\n\u001b[0m \u001b[90m     | \u001b[39m\u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m","no-global-assign","no-unsafe-negation",{"desc":"133","fix":"134"},{"desc":"135","fix":"136"},"Update the dependencies array to be: [history.location.state, loadProducts]",{"range":"137","text":"138"},"Update the dependencies array to be: [loadProduct, params.id]",{"range":"139","text":"140"},[1516,1518],"[history.location.state, loadProducts]",[2459,2461],"[loadProduct, params.id]"]